/* ===== MEJORAS RESPONSIVE PARA MÓVILES ===== */

/* Meta viewport ya debe estar en el HTML, pero por si acaso */
/* <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"> */

/* ===== AJUSTES GENERALES PARA MÓVIL ===== */
@media (max-width: 768px) {

    /* Body y contenedor principal */
    body {
        font-size: 14px;
        overflow-x: hidden;
    }

    .container {
        padding: 0.75rem;
        max-width: 100%;
    }

    /* Header responsive */
    header {
        padding: 0.75rem 1rem;
    }

    .logo {
        font-size: 1.5rem;
    }

    nav {
        flex-direction: column;
        gap: 0.5rem;
        width: 100%;
    }

    nav a {
        padding: 0.75rem 1rem;
        width: 100%;
        text-align: center;
        font-size: 0.95rem;
    }

    /* Hero section */
    .hero {
        padding: 3rem 1rem;
        min-height: 60vh;
    }

    .hero h1 {
        font-size: 2rem;
        line-height: 1.2;
    }

    .hero p {
        font-size: 1rem;
    }

    /* Grid de productos */
    .products-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 1rem;
    }

    /* Tarjetas de productos */
    .product-card {
        max-width: 100%;
        margin: 0 auto;
    }

    .product-card img {
        height: 280px;
    }

    /* Modal mejorado para móvil */
    .modal {
        padding: 0.5rem;
    }

    .modal-content {
        width: 98% !important;
        max-width: 100% !important;
        margin: 0.5rem auto !important;
        border-radius: 16px !important;
        max-height: 95vh;
        overflow-y: auto;
    }

    .modal-body {
        grid-template-columns: 1fr !important;
        gap: 1.5rem !important;
        padding: 1.5rem !important;
        min-height: auto !important;
    }

    /* Imagen del modal en móvil */
    .modal-image-container {
        height: 350px !important;
        margin-top: 0 !important;
        border-radius: 12px !important;
    }

    .modal-image img,
    .modal-image-container img {
        max-width: 95% !important;
        max-height: 95% !important;
    }

    /* Título del modal */
    .modal-title {
        font-size: 1.5rem !important;
        line-height: 1.3 !important;
    }

    /* Precio en móvil */
    .modal-price {
        font-size: 2rem !important;
    }

    /* Descripción */
    .modal-description {
        font-size: 0.95rem !important;
        line-height: 1.5 !important;
    }

    /* Badges de tallas en móvil */
    .size-badge {
        width: 45px !important;
        height: 45px !important;
        font-size: 0.95rem !important;
        margin-right: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    /* Badges de colores en móvil */
    .color-badge-large {
        padding: 0.65rem 1.25rem !important;
        font-size: 0.9rem !important;
        margin-right: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    /* Botón WhatsApp en móvil */
    .btn-whatsapp-large {
        padding: 1rem 1.5rem !important;
        font-size: 1rem !important;
        width: 100%;
    }

    /* Controles de galería en móvil */
    .gallery-btn {
        width: 40px !important;
        height: 40px !important;
    }

    .gallery-btn svg {
        width: 20px !important;
        height: 20px !important;
    }

    .gallery-controls {
        padding: 0 0.75rem !important;
    }

    /* Indicadores de galería */
    .gallery-indicators {
        bottom: 15px !important;
    }

    .gallery-indicator {
        width: 10px !important;
        height: 10px !important;
        gap: 8px !important;
    }

    .gallery-indicator.active {
        width: 28px !important;
    }

    /* Botón cerrar modal */
    .modal-close {
        width: 36px !important;
        height: 36px !important;
        font-size: 1.75rem !important;
        top: 0.5rem !important;
        right: 0.5rem !important;
    }

    /* Footer */
    footer {
        padding: 2rem 1rem;
    }

    .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .footer-section {
        text-align: center;
    }
}

/* ===== MÓVILES PEQUEÑOS (< 480px) ===== */
@media (max-width: 480px) {

    /* Hero más compacto */
    .hero {
        padding: 2rem 0.75rem;
        min-height: 50vh;
    }

    .hero h1 {
        font-size: 1.75rem;
    }

    .hero p {
        font-size: 0.95rem;
    }

    /* Modal aún más compacto */
    .modal-content {
        width: 100% !important;
        margin: 0 !important;
        border-radius: 12px 12px 0 0 !important;
        max-height: 100vh;
    }

    .modal-body {
        padding: 1rem !important;
        gap: 1rem !important;
    }

    /* Imagen más pequeña */
    .modal-image-container {
        height: 300px !important;
    }

    /* Título más pequeño */
    .modal-title {
        font-size: 1.35rem !important;
    }

    /* Precio más pequeño */
    .modal-price {
        font-size: 1.75rem !important;
    }

    /* Badges más pequeños */
    .size-badge {
        width: 42px !important;
        height: 42px !important;
        font-size: 0.9rem !important;
    }

    .color-badge-large {
        padding: 0.6rem 1rem !important;
        font-size: 0.85rem !important;
    }

    /* Botón WhatsApp */
    .btn-whatsapp-large {
        padding: 0.875rem 1.25rem !important;
        font-size: 0.95rem !important;
    }

    /* Controles de galería más pequeños */
    .gallery-btn {
        width: 36px !important;
        height: 36px !important;
    }

    .gallery-btn svg {
        width: 18px !important;
        height: 18px !important;
    }
}

/* ===== LANDSCAPE MODE (HORIZONTAL) ===== */
@media (max-width: 768px) and (orientation: landscape) {

    .modal-content {
        max-height: 90vh;
    }

    .modal-body {
        grid-template-columns: 1fr 1fr !important;
        gap: 1.5rem !important;
    }

    .modal-image-container {
        height: 300px !important;
    }
}

/* ===== TOUCH IMPROVEMENTS ===== */
@media (hover: none) and (pointer: coarse) {

    /* Áreas táctiles más grandes */
    button,
    a,
    .size-badge,
    .color-badge-large,
    .gallery-btn {
        min-height: 44px;
        min-width: 44px;
    }

    /* Eliminar hover effects en táctil */
    .product-card:hover {
        transform: none;
    }

    /* Mejorar feedback táctil */
    button:active,
    a:active {
        opacity: 0.7;
    }
}

/* ===== ADMIN RESPONSIVE ===== */
@media (max-width: 768px) {

    /* Admin header */
    .admin-header {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
    }

    /* Admin sidebar */
    .admin-sidebar {
        width: 100%;
        position: relative;
    }

    /* Admin content */
    .admin-content {
        margin-left: 0;
        padding: 1rem;
    }

    /* Formulario de producto */
    .product-form {
        padding: 1.5rem;
    }

    .form-group {
        margin-bottom: 1.25rem;
    }

    /* Grid de imágenes en admin */
    .images-input-group {
        grid-template-columns: 1fr !important;
        gap: 1.25rem !important;
    }

    .image-upload-container {
        min-height: 280px !important;
        padding: 1.25rem !important;
    }

    .image-preview img {
        height: 200px !important;
    }

    /* Tabla de productos */
    .products-table {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .products-table table {
        min-width: 800px;
    }

    /* Dashboard cards */
    .dashboard-cards {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* ===== OPTIMIZACIONES DE RENDIMIENTO ===== */
@media (max-width: 768px) {

    /* Reducir animaciones en móvil */
    * {
        animation-duration: 0.2s !important;
        transition-duration: 0.2s !important;
    }

    /* Desactivar parallax en móvil */
    .parallax {
        background-attachment: scroll !important;
    }

    /* Optimizar imágenes */
    img {
        image-rendering: -webkit-optimize-contrast;
    }
}

/* ===== ACCESIBILIDAD MÓVIL ===== */
@media (max-width: 768px) {

    /* Texto más legible */
    body {
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }

    /* Mejorar contraste */
    .text-secondary {
        color: #495057;
    }

    /* Espaciado para pulgar */
    button,
    a {
        margin: 0.25rem;
    }
}

/* ===== SCROLL SUAVE EN MÓVIL ===== */
@media (max-width: 768px) {

    html {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
    }

    /* Prevenir zoom en inputs */
    input,
    select,
    textarea {
        font-size: 16px !important;
    }
}

/* ===== ORIENTACIÓN VERTICAL (PORTRAIT) ===== */
@media (max-width: 768px) and (orientation: portrait) {

    .modal-body {
        grid-template-columns: 1fr !important;
    }

    .modal-image-container {
        height: 350px !important;
    }
}

/* ===== SAFE AREA (iPhone X+) ===== */
@supports (padding: max(0px)) {

    @media (max-width: 768px) {

        body {
            padding-left: max(0px, env(safe-area-inset-left));
            padding-right: max(0px, env(safe-area-inset-right));
        }

        header {
            padding-top: max(0.75rem, env(safe-area-inset-top));
        }

        .modal-content {
            padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
        }
    }
}