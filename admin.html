<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci칩n - Tendencia y Estilo</title>
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1>Tendencia & Estilo</h1>
                <p>Panel de Administraci칩n</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="admin-password">Contrase침a</label>
                    <input type="password" id="admin-password" placeholder="Ingresa la contrase침a" required autofocus>
                </div>
                <button type="submit" class="btn-login">Ingresar</button>
                
            </form>
        </div>
    </div>

    <!-- Admin Panel (Hidden until login) -->
    <div class="admin-container" id="adminPanel" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>T&E Admin</h1>
            </div>
            <nav class="sidebar-nav">
                <a href="#dashboard" class="nav-item active" onclick="showSection('dashboard')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    Dashboard
                </a>
                <a href="#products" class="nav-item" onclick="showSection('products')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path
                            d="M20 7H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2v1a2 2 0 01-2 2zM4 7v13a2 2 0 002 2h12a2 2 0 002-2V7">
                        </path>
                    </svg>
                    Productos
                </a>
                <a href="#inventory" class="nav-item" onclick="showSection('inventory')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 11l3 3L22 4"></path>
                        <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                    </svg>
                    Inventario
                </a>
                <a href="index.html" class="nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    Volver a la Tienda
                </a>
                <a href="#" class="nav-item" onclick="logout()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    Cerrar Sesi칩n
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="admin-header">
                <h2 id="section-title">Dashboard</h2>
                <div class="header-actions">
                    <button class="btn-secondary" onclick="generateAdminCatalog()" style="margin-right: 10px;">
                        游늵 Cat치logo Completo
                    </button>
                    <button class="btn-primary" onclick="showAddProductModal()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Agregar Producto
                    </button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #e3f2fd;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#1976d2">
                                <path
                                    d="M20 7H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2v1a2 2 0 01-2 2zM4 7v13a2 2 0 002 2h12a2 2 0 002-2V7">
                                </path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Total Productos</p>
                            <h3 class="stat-value" id="total-products">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #f3e5f5;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#7b1fa2">
                                <path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <path d="M20 8v6M23 11h-6"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Ropa de Mujer</p>
                            <h3 class="stat-value" id="women-products">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #e8f5e9;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#388e3c">
                                <path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Ropa de Hombre</p>
                            <h3 class="stat-value" id="men-products">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #fff3e0;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#f57c00">
                                <path d="M9 11l3 3L22 4"></path>
                                <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Stock Total</p>
                            <h3 class="stat-value" id="total-stock">0</h3>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-card">
                        <h3>Productos por Categor칤a</h3>
                        <div id="category-chart" class="chart"></div>
                    </div>
                    <div class="chart-card">
                        <h3>Productos con Stock Bajo</h3>
                        <div id="low-stock-list" class="low-stock-list"></div>
                    </div>
                </div>
            </section>

            <!-- Products Section -->
            <section id="products-section" class="content-section">
                <div class="table-container">
                    <table class="products-table">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Categor칤a</th>
                                <th>Colores</th>
                                <th>Precio</th>
                                <th>Tallas</th>
                                <th>Stock</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">
                            <!-- Products will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Inventory Section -->
            <section id="inventory-section" class="content-section">
                <div class="inventory-grid" id="inventory-grid">
                    <!-- Inventory cards will be loaded here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Add/Edit Product Modal -->
    <div id="productFormModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="modal-form-title">Agregar Producto</h2>
                <button class="modal-close" onclick="closeProductFormModal()">&times;</button>
            </div>
            <form id="productForm" class="product-form">
                <input type="hidden" id="product-id">

                <div class="form-row">
                    <div class="form-group">
                        <label for="product-name">Nombre del Producto *</label>
                        <input type="text" id="product-name" required>
                    </div>
                    <div class="form-group">
                        <label for="product-category">Categor칤a *</label>
                        <select id="product-category" required>
                            <option value="">Seleccionar...</option>
                            <option value="mujer">Mujer</option>
                            <option value="hombre">Hombre</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="product-price">Precio (S/) *</label>
                        <input type="number" id="product-price" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="product-stock">Stock *</label>
                        <input type="number" id="product-stock" min="0" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="product-sizes">Tallas (separadas por coma) *</label>
                        <input type="text" id="product-sizes" placeholder="Ej: S, M, L, XL" required>
                    </div>
                    <div class="form-group full-width">
                        <label>Colores Disponibles *</label>
                        <input type="hidden" id="product-colors-hidden" required>
                        <div class="color-picker-container">
                            <div class="color-picker-grid" id="colorPickerGrid">
                                <!-- Colors will be populated by JavaScript -->
                            </div>
                            <div class="selected-colors-preview">
                                <strong>Seleccionados:</strong> <span id="selected-colors-text">Ninguno</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="product-description">Descripci칩n *</label>
                    <textarea id="product-description" rows="4" required></textarea>
                </div>

                <div class="form-group">
                    <label>Im치genes del Producto (1-3 im치genes) *</label>
                    <div class="images-input-group">
                        <div class="image-input-item">
                            <label for="product-image-1">Imagen Principal *</label>
                            <input type="text" id="product-image-1" placeholder="assets/producto-1.jpg" required>
                        </div>
                        <div class="image-input-item">
                            <label for="product-image-2">Imagen 2 (opcional)</label>
                            <input type="text" id="product-image-2" placeholder="assets/producto-2.jpg">
                        </div>
                        <div class="image-input-item">
                            <label for="product-image-3">Imagen 3 (opcional)</label>
                            <input type="text" id="product-image-3" placeholder="assets/producto-3.jpg">
                        </div>
                    </div>
                    <small>Coloca las im치genes en la carpeta "assets/" y escribe las rutas aqu칤</small>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeProductFormModal()">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Producto</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Librer칤as para generar PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

    <!-- Generador de cat치logo para admin -->
    <script src="admin-catalog-generator.js"></script>

    <script src="admin-script.js"></script>
</body>

</html>